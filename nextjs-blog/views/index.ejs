<title>Obesity predictor</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="icon" href="OP.png" />

<nav class="navbar navbar-expand-sm bg-primary navbar-dark">
    <div class="container-fluid">
        <img class="logo" src='logo.png' width="190px"></img>
        <ul class="navbar-nav">
            <li class="nav-link">Welcome back, <%= name %>!</li>
            <li class="nav-item"><a class="nav-link active" href='/'>Home</a></li>
            <li class="nav-item"><a class ="nav-link" href='/predictor'>Predictor</a></li>
            <li class="nav-item">
                <form action="/logout?_method=DELETE" method="POST" class="logout">
                    <button class="btn btn-primary" type="submit">Log Out</button>
                </form>
            </li>
        </ul>
    </div>
</nav>
      
<div>
    <script>
        const graphValues = <%- JSON.stringify(graphValues) %>;
        function renderGraph(ctx, graphID) {
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(graphValues[graphID]),
                    datasets: [{
                        label: '# of Votes',
                        data: Object.values(graphValues[graphID]),
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        };
    </script>
    <h2 class="text-center mb-4 mt-4 text-secondary">Statistics</h2>
    <div class="container text-center">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h3 class="ms-3 mb-3 mt-3">Frequently eating caloric food</h3>
                        <div style="width:500px; margin:0 auto;">
                            <canvas id="graph1"></canvas>
                        </div>
                        <script>
                            const ctx1 = document.getElementById('graph1');
                            renderGraph(ctx1, 'FAVC');
                      </script>
                  </div>
              </div>
          </div>

          <div class="col">
              <div class="card">
                  <div class="card-body">
                      <h3 class="ms-3 mb-3 mt-3">Eating vegetables</h3>
                      <div style="width:500px; margin:0 auto;">
                          <canvas id="graph2"></canvas>
                      </div>

                      <script>
                          const ctx2 = document.getElementById('graph2');
                          renderGraph(ctx2, 'FCVC');
                      </script>
                  </div>
              </div>
          </div>
      </div>
</div>

<div class="container text-center mt-4">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h3 class="ms-3 mb-3 mt-3">Daily meals</h3>
                        <div style="width:500px; margin:0 auto;">
                            <canvas id="graph3"></canvas>
                        </div>
                        
                        <script>
                            const ctx3 = document.getElementById('graph3');
                            renderGraph(ctx3, 'NCP');
                      </script>
                  </div>
              </div>
          </div>

          <div class="col">
              <div class="card">
                  <div class="card-body">
                      <h3 class="ms-3 mb-3 mt-3">Eating food between meals</h3>
                      <div style="width:500px; margin:0 auto;">
                          <canvas id="graph4"></canvas>
                      </div>

                      <script>
                          const ctx4 = document.getElementById('graph4');
                          renderGraph(ctx4, 'CAEC');
                      </script>
                  </div>
              </div>
          </div>
      </div>
</div>

<div class="container text-center mt-4">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h3 class="ms-3 mb-3 mt-3">Smoking</h3>
                        <div style="width:500px; margin:0 auto;">
                            <canvas id="graph5"></canvas>
                        </div>
                        
                        <script>
                          const ctx5 = document.getElementById('graph5');
                          renderGraph(ctx5, 'SMOKE');
                      </script>
                  </div>
              </div>
          </div>

          <div class="col">
              <div class="card">
                  <div class="card-body">
                      <h3 class="ms-3 mb-3 mt-3">Daily water consumption</h3>
                      <div style="width:500px; margin:0 auto;">
                          <canvas id="graph6"></canvas>
                      </div>

                      <script>
                          const ctx6 = document.getElementById('graph6');
                          renderGraph(ctx6, 'CH20');
                      </script>
                  </div>
              </div>
          </div>
      </div>
</div>

<div class="container text-center mt-4">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h3 class="ms-3 mb-3 mt-3">Daily calories monitoring</h3>
                        <div style="width:500px; margin:0 auto;">
                            <canvas id="graph7"></canvas>
                        </div>
                        
                        <script>
                            const ctx7 = document.getElementById('graph7');
                            renderGraph(ctx7, 'SCC');
                      </script>
                  </div>
              </div>
          </div>

          <div class="col">
              <div class="card">
                  <div class="card-body">
                      <h3 class="ms-3 mb-3 mt-3">Physical activity</h3>
                      <div style="width:500px; margin:0 auto;">
                          <canvas id="graph8"></canvas>
                      </div>

                      <script>
                          const ctx8 = document.getElementById('graph8');
                            renderGraph(ctx8, 'FAF');
                      </script>
                  </div>
              </div>
          </div>
      </div>
</div>

<div class="container text-center mt-4">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <h3 class="ms-3 mb-3 mt-3">Usage of technological devices</h3>
                        <div style="width:500px; margin:0 auto;">
                            <canvas id="graph9"></canvas>
                        </div>
                        
                        <script>
                            const ctx9 = document.getElementById('graph9');
                            renderGraph(ctx9, 'TUE');
                      </script>
                  </div>
              </div>
          </div>

          <div class="col">
              <div class="card">
                  <div class="card-body">
                      <h3 class="ms-3 mb-3 mt-3">Alchocol consumprion</h3>
                      <div style="width:500px; margin:0 auto;">
                          <canvas id="graph10"></canvas>
                      </div>

                      <script>
                            const ctx10 = document.getElementById('graph10');
                            renderGraph(ctx10, 'CALC');
                      </script>
                  </div>
              </div>
          </div>
      </div>
</div>
<div class="container text-center mt-4">
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h3 class="ms-3 mb-3 mt-3">Transportation</h3>
                    <div style="width:500px; margin:0 auto;">
                        <canvas id="graph11"></canvas>
                    </div>
                    
                    <script>
                        const ctx11 = document.getElementById('graph11');
                        renderGraph(ctx11, 'MTRANS');
                  </script>
              </div>
          </div>
      </div>

      <div class="col">
          <div class="card">
              <div class="card-body">
                  <h3 class="ms-3 mb-3 mt-3">Estimated obesity level</h3>
                  <div style="width:500px; margin:0 auto;">
                      <canvas id="graph12"></canvas>
                  </div>

                  <script>
                        const ctx12 = document.getElementById('graph12');
                        renderGraph(ctx12, 'NObeyesdad');
                  </script>
              </div>
          </div>
      </div>
  </div>
</div>

